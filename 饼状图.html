<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>饼状图</title>
    <link rel="stylesheet" href="">
</head>
<body>
<canvas id="cas"></canvas>
<script type="text/javascript">
    window.onload = function(){
        var cas = document.getElementById('cas');
        var ctx = cas.getContext("2d");
        cas.width = 600;
        cas.height =600;
        cas.style.border = '1px solid #000';

        var data = [{
                "value": .2,
                "color": "red",
                "title": "应届生"
            },{
                "value": .3,
                "color": "blue",
                "title": "社会招生"
            },{
                "value": .4,
                "color": "green",
                "title": "老学员推荐"
            },{
                "value": .1,
                "color": "#ccc",
                "title": "公开课"
            },];

        var x0 = 200, y0 = 200;
        var radius = 100;
        var tmp = -90;
        for(var i=0; i<data.length; i++){
            ctx.beginPath();
            ctx.moveTo(200,200);
            var angle = data[i].value * 360;
            var startAngle = tmp * Math.PI /180;
            var endAngle = (tmp + angle) * Math.PI /180;
            ctx.arc(x0, y0, radius, startAngle, endAngle);
            ctx.fillStyle = data[i].color;
            ctx.fill();
            tmp += angle;
        }
    }
</script>
</body>
</html>